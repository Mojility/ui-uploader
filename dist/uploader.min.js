/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.1.1 - 2015-09-28T20:25:52.632Z
 * License: MIT
 */
!function(){"use strict";function e(e){function o(e){for(var o=0;o<e.length;o++)d.files.push(e[o])}function i(){return d.files}function n(e){e.customHeaders||(e.customHeaders=""),d.options=e;for(var o=0;o<d.files.length&&d.activeUploads!=d.options.concurrency;o++)d.files[o].active||r(d.files[o],d.options.url,d.options.data,d.options.customHeaders)}function t(e){d.files.splice(d.files.indexOf(e),1)}function s(){d.files.splice(0,d.files.length)}function l(e){var o=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],i=0===e?0:+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,i)).toFixed(i?1:0)+" "+o[isNaN(e)?0:i+1]}function a(e){return typeof e==typeof Function}function r(e,o,i,t){var s,r,p,u="file";if(i=i||{},d.activeUploads+=1,e.active=!0,s=new window.XMLHttpRequest,i.withCredentials===!0&&(s.withCredentials=!0),r=new window.FormData,s.open("POST",o),""!==t)for(var f=0;f<t.length;f++)s.setRequestHeader(t[f][0],t[f][1]);if(s.upload.onloadstart=function(){},s.upload.onprogress=function(o){o.lengthComputable&&(e.loaded=o.loaded,e.humanSize=l(o.loaded),d.options.onProgress(e))},s.onload=function(){d.activeUploads-=1,d.uploadedFiles+=1,n(d.options),d.options.onCompleted(e,s.responseText,s.status),d.uploadedFiles===d.files.length&&(d.uploadedFiles=0,d.options.onCompletedAll(d.files))},s.onerror=function(e){a(d.options.onError)&&d.options.onError(e)},i)for(p in i)i.hasOwnProperty(p)&&r.append(p,i[p]);return r.append(u,e,e.name),s.send(r),s}var d=this;return d.files=[],d.options={},d.activeUploads=0,d.uploadedFiles=0,e.info("uiUploader loaded"),{addFiles:o,getFiles:i,files:d.files,startUpload:n,removeFile:t,removeAll:s}}angular.module("ui.uploader",[]).service("uiUploader",e),e.$inject=["$log"]}();