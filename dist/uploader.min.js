/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.1.1 - 2015-09-29T03:49:59.673Z
 * License: MIT
 */
!function(){"use strict";function e(e){function o(e){for(var o=0;o<e.length;o++)d.files.push(e[o])}function n(){return d.files}function i(e){d.options=e;for(var o=0;o<d.files.length&&d.activeUploads!=d.options.concurrency;o++)d.files[o].active||r(d.files[o],d.options.url,d.options.data,d.options.customHeaders)}function t(e){d.files.splice(d.files.indexOf(e),1)}function l(){d.files.splice(0,d.files.length)}function s(e){var o=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],n=0===e?0:+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,n)).toFixed(n?1:0)+" "+o[isNaN(e)?0:n+1]}function a(e){return typeof e==typeof Function}function r(e,o,n,t){var l,r,p,u="file";n=n||{},d.activeUploads+=1,e.active=!0,l=new window.XMLHttpRequest,n.withCredentials===!0&&(l.withCredentials=!0),r=new window.FormData,l.open("POST",o);for(var f=0;f<t.length;f++)l.setRequestHeader(t[f][0],t[f][1]);if(l.upload.onloadstart=function(){},l.upload.onprogress=function(o){o.lengthComputable&&(e.loaded=o.loaded,e.humanSize=s(o.loaded),d.options.onProgress(e))},l.onload=function(){d.activeUploads-=1,d.uploadedFiles+=1,i(d.options),d.options.onCompleted(e,l.responseText,l.status),d.uploadedFiles===d.files.length&&(d.uploadedFiles=0,d.options.onCompletedAll(d.files))},l.onerror=function(e){a(d.options.onError)&&d.options.onError(e)},n)for(p in n)n.hasOwnProperty(p)&&r.append(p,n[p]);return r.append(u,e,e.name),l.send(r),l}var d=this;return d.files=[],d.options={},d.activeUploads=0,d.uploadedFiles=0,e.info("uiUploader loaded"),{addFiles:o,getFiles:n,files:d.files,startUpload:i,removeFile:t,removeAll:l}}angular.module("ui.uploader",[]).service("uiUploader",e),e.$inject=["$log"]}();