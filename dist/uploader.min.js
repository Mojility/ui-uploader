/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.1.2 - 2015-10-28T20:38:15.664Z
 * License: MIT
 */
!function(){"use strict";function o(o){function e(o){for(var e=0;e<o.length;e++)p.files.push(o[e])}function n(){return p.files}function i(o){p.options=o;for(var e=0;e<p.files.length&&p.activeUploads!=p.options.concurrency;e++)p.files[e].active||r(p.files[e],p.options.url,p.options.data,p.options.customHeaders)}function t(o){p.files.splice(p.files.indexOf(o),1)}function l(){p.files.splice(0,p.files.length)}function s(o){var e=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],n=0===o?0:+Math.floor(Math.log(o)/Math.log(1024));return(o/Math.pow(1024,n)).toFixed(n?1:0)+" "+e[isNaN(o)?0:n+1]}function a(o){return typeof o==typeof Function}function r(o,e,n,t){var l,r,d,u="file";n=n||{},p.activeUploads+=1,o.active=!0,l=new window.XMLHttpRequest,n.withCredentials===!0&&(l.withCredentials=!0),r=new window.FormData,l.open("POST",e);for(var f=0;f<t.length;f++)l.setRequestHeader(t[f][0],t[f][1]);if(l.upload.onloadstart=function(){},l.upload.onprogress=function(e){e.lengthComputable&&(o.loaded=e.loaded,o.humanSize=s(e.loaded),a(p.options.onProgress)&&p.options.onProgress(o))},l.onload=function(){p.activeUploads-=1,p.uploadedFiles+=1,i(p.options),a(p.options.onCompleted)&&p.options.onCompleted(o,l.responseText,l.status),p.uploadedFiles===p.files.length&&(p.uploadedFiles=0,a(p.options.onCompletedAll)&&p.options.onCompletedAll(p.files))},l.onerror=function(o){a(p.options.onError)&&p.options.onError(o)},n)for(d in n)n.hasOwnProperty(d)&&r.append(d,n[d]);return r.append(u,o,o.name),l.send(r),l}var p=this;return p.files=[],p.options={},p.activeUploads=0,p.uploadedFiles=0,o.info("uiUploader loaded"),{addFiles:e,getFiles:n,files:p.files,startUpload:i,removeFile:t,removeAll:l}}angular.module("ui.uploader",[]).service("uiUploader",o),o.$inject=["$log"]}();